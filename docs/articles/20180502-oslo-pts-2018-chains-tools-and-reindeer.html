<!DOCTYPE html>
<html lang="en">
  <head>
    <title>dbks - Oslo PTS 2018; Chains, tools, and reindeer</title>
   	<meta name="description" content="Oslo PTS 2018; Chains, tools, and reindeer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <meta content="utf-8" http-equiv="encoding" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github.min.css" />
    <link rel="stylesheet" href="/s/style.css" />
  </head>
  <body>
    <div id="title">
      <a href="/"><img alt="dbks logo" src="/i/dbks.png" /></a> <a href="/"><h1>deathbykeystroke</h1></a>
    </div>
    <div id="article">
      <h1>Oslo PTS 2018; Chains, tools, and reindeer</h1>
      <h6>// date:  2018-05-02</h6>
      <h6>// filed: <a href="/tags/programming.html">programming</a>, <a href="/tags/rakudo.html">rakudo</a></h6>
      <h6>// <a href="https://deathbykeystroke.com/articles/20180502-oslo-pts-2018-chains-tools-and-reindeer.html">perma</a></h6>
      <br/>

      <p>This year at PTS we picked up where we left off last year, talking about the build system, dependency chains, and walking to the next food spot. Last year we had developed perl6 Warthog. Warthog is a hash "collapser" that works on OS [distro|kernel] and environment variables. This allows you to do things like determine native dependencies (like libcrypt in linux vs libgcrypt on osx) in your META6.json. An example of that <a href="https://github.com/tony-o/p6-warthog">here</a>. So, that was last year.</p>
<p>This year I worked mainly on integrating that into zef. Nine worked on <a href="https://github.com/niner/Distribution-Builder-MakeFromJSON">Distribution::Builder::MakeFromJSON</a> and integrated support for that into zef. Ugexe also worked on that integration and improved the S22 support for <code>depends</code> allowing <code>:from&lt;native|bin&gt;</code> signalling native lib or bin requirements in the meta (and coralling/giving direction to nine and me)</p>
<p>The other thing I worked on is ancillary to zef and something we hope to integrate in the future to increase the speed of determining and building dependencies. I'll call it <a href="https://github.com/tony-o/cro-koos"><code>zefpan</code></a> for this post though it's not meant to be comparable to <code>cpan</code>. Zefpan is essentially a webservice that provides a dependency chain for <code>YourModule:ver&lt;&gt;:api&lt;&gt;:auth&lt;&gt;</code>, this allows zef to bypass parsing the entirety of the ecosystem JSON to determine what's needed for installing/building a module and just make an http query to get the dependency chain. It also allows us to do things like generate a "cool" dependency <a href="https://github.com/tony-o/p6-Uxmal">graph</a>. Check this graph out for Cro:</p>
<figure>
<img src="/i/LDNJaxV.png" alt="LDNJaxV" /><figcaption>LDNJaxV</figcaption>
</figure>
<p>I'm keeping this short because I'm relatively sick but there will be more in the next couple of weeks discussing Warthog, the dependency graphing, and possibly <code>zefpan</code> as we hash things out.</p>


    </div>
    <div id="footer">
      <h6>// social twitter:<a href="https://twitter.com/oynoto">@oynoto</a>, patreon:<a href="https://www.patreon.com/oynot">@oynot</a>, github:<a href="https://github.com/tony-o">tony-o</a></h6>
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <script src="/s/hljs-raku.js"></script>
    <script>
      hljs.registerLanguage("raku", hljs_raku);
      (function(){
        languages = {}
        pres      = document.getElementsByTagName("pre");
        for(i = 0; i < hljs.listLanguages().length; i++){
          languages['language-' + hljs.listLanguages()[i]] = 1;
        }
        for(i = 0; i < pres.length; i++){
          pre = pres[i];
          cn  = 'language-plaintext';
          ls  = (pre.getAttribute("class") || 'plaintext').split(' ');
          for(j = 0; j < ls.length; j++){
            if(languages['language-' + ls[j]]){
              cn = 'language-' + ls[j];
              break;
            }
          }
          codes = pre.getElementsByTagName("code")
          for(j = 0; j < codes.length; j++){
            codes[j].setAttribute("class", (codes[j].getAttribute("class") + " hljs " + cn).trim())
          }
        }
        hljs.highlightAll();
      })();
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FKJQZPJ2XK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-FKJQZPJ2XK');
    </script>

  </body>
</html>
